clc
clear;
x=[2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008,2009, 2010, 2011, 2012, 2013];
X=[1,2000;1,2001;1,2002;1,2003;1,2004;1,2005;1,2006;1,2007;1,2008; 
1,2009;1,2010;1,2011;1,2012;1,2013];
Y=[2.000;2.500;2.900;3.147;4.515;4.903;5.365;5.704;6.853;7.971;8.561;10.000;11.280;12.900];
theta=inv(X'*X)*X'*Y;
Y_2014=[1,2014]*theta;
disp("解析解法求线性回归");
disp("2014年房价为:"+Y_2014);
figure(1);
plot(x,Y','bo');
xlabel('年');
ylabel('房价');
title('南京房价预测');
hold on;
x=[2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008,2009, 2010, 2011, 2012, 2013 ,2014];
y=[X*theta;Y_2014];
plot(x,y,'-');
hold on;
plot(2014,Y_2014,'ro');